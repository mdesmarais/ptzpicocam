:py:mod:`ptzsimcam.robot_camera`
================================

.. py:module:: ptzsimcam.robot_camera

.. autoapi-nested-parse::

   Defines a camera robot based on the EVI-D100 by Sony for pybullet.



Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   ptzsimcam.robot_camera.ParamsMemory
   ptzsimcam.robot_camera.RobotCamera



Functions
~~~~~~~~~

.. autoapisummary::

   ptzsimcam.robot_camera.compute_projection_matrix



Attributes
~~~~~~~~~~

.. autoapisummary::

   ptzsimcam.robot_camera.ZOOM_SPEEDS


.. py:data:: ZOOM_SPEEDS
   :annotation: = [0, 1, 2, 5, 7, 10, 15, 20]

   Association between a visca zoom speed (0, 7) and a zoom speed in degrees/s.


.. py:class:: ParamsMemory

   Parameters of the camera that have been saved.

   .. py:attribute:: pan_joint_value
      :annotation: :float

      

   .. py:attribute:: tilt_joint_value
      :annotation: :float

      

   .. py:attribute:: zoom_fov
      :annotation: :float

      

   .. py:method:: joints(self)
      :property:

      Gets joint values (pan and tilt) as a tuple of float



.. py:class:: RobotCamera(main_link, pan_joint_index, tilt_joint_index)

   Represents a camera that uses the VISCA protocol.

   Creates a new robot camera in a simulation.

   A robot camera is made of 2 joints.

   :param main_link: root link in the associated urdf
   :param pan_joint_index: index of the first joint
   :param tilt_joint_index: index of the second joint

   .. py:attribute:: ZOOM_FOV_MIN
      :annotation: = 2.9

      

   .. py:attribute:: ZOOM_FOV_MAX
      :annotation: = 55.9

      

   .. py:method:: drive(self)

      Moves the camera with the current pan and tilt speeds.


   .. py:method:: get_base_from_camera(self)

      Gets the base position at the end of the robot.


   .. py:method:: is_busy(self)
      :property:

      Returns True if the camera is executing a command, otherwise False.


   .. py:method:: read_joints(self)

      Reads joint values (pan, tilt) and returns them as a tuple

      :returns: a tuple containing joint values.


   .. py:method:: recall_memory(self, memory_index)

      Updates camera with parameters recorded at the given index.

      :param memory_index: index of the memory to recall
      :raises ValueError: if the index is not between 0 and 5 included


   .. py:method:: render_image(self)

      Renders an image using the simulated camera of pybullet.

      The camera will be placed at the end of the robot.


   .. py:method:: set_memory(self, memory_index)

      Sets the given memory index with the current camera parameters.

      :param memory_index: index of the memory to set
      :raises ValueError: if the index is not between 0 and 5 included


   .. py:method:: update(self, refresh_freq)

      Updates camera zoom and renders an image.

      This method should not be called too often because
      some computations are slow.

      :param refresh_freq: frequency at which this method will be called



.. py:function:: compute_projection_matrix(fov)


